//Arbol

//N nodos
//N-1 aristas
//Longitud - Ruta de la cantidad de aristas que contiene

//Arbol binario (2 nodos hijos como maximo)

//-Datos Nombre de persona
//-Hijos izquierdo: primer
//-Hijo derecho: segundo
//Recorrer arbol
//Preorden (Padre-> Hijo izquierdo-> Hijo derecho)
//Inorden (Hijo izquierdo-> Padre-> Hijo derecho)
//Postorden (Hijo izquierdo-> Hijo derecho-> Padre)
var arbol = new ArbolBinario("Juan");
arbol.Raiz.InsertarHijo("Ana", true);
arbol.Raiz.InsertarHijo("Luis", false);

arbol.Raiz.HijoIzquierdo.InsertarHijo("Sofia", true);
arbol.Raiz.HijoIzquierdo.InsertarHijo("Pedro", false);
arbol.Raiz.HijoDerecho.InsertarHijo("Carlos", true);

Console.WriteLine("Arbol construido");

arbol.ImprimirArbol(arbol.Raiz);

Console.WriteLine();
Console.WriteLine("[Preorden]:");
arbol.RecorrerPreorden(arbol.Raiz);
Console.WriteLine();

Console.WriteLine("[Inorden]:");
arbol.RecorrerInorden(arbol.Raiz);
Console.WriteLine();

Console.WriteLine("[Postorden]:");
arbol.RecorrerPostorden(arbol.Raiz);
Console.WriteLine();


//Clase para crear nodos en el arbol
public class NodoArbol
{
    public string Nombre { get; private set; }
    public NodoArbol HijoIzquierdo { get; private set; }
    public NodoArbol HijoDerecho { get; private set; }

    public NodoArbol(string nombre)
    {
        Nombre = nombre;
    }

    public void InsertarHijo(string nombreHijo, bool esHijoIzquierdo)
    {
        if (esHijoIzquierdo)
        {
            HijoIzquierdo = new NodoArbol(nombreHijo);
        }
        else
        {
            HijoDerecho = new NodoArbol(nombreHijo);
        }
    }
}

//Clase para construit el arbol
public class ArbolBinario
{
    public NodoArbol Raiz { get; private set; }
    public ArbolBinario(string nombreRaiz)
    {
        Raiz = new NodoArbol(nombreRaiz);
    }
    //Imprime estructura tipo árbol
    public void ImprimirArbol(NodoArbol nodo, string prefijo = "", bool esUltimo = true)
    {
        if (nodo == null) return;

        Console.Write(prefijo);
        Console.Write(esUltimo ? "+-- " : "|-- ");
        Console.WriteLine(nodo.Nombre);

        string nuevoPrefijo = prefijo + (esUltimo ? "    " : "|   ");

        if (nodo.HijoIzquierdo != null || nodo.HijoDerecho != null)
        {
            ImprimirArbol(nodo.HijoIzquierdo, nuevoPrefijo, nodo.HijoDerecho == null);
            ImprimirArbol(nodo.HijoDerecho, nuevoPrefijo, true);
        }
    }

    public void RecorrerPreorden(NodoArbol nodo, bool esPrimero = true)
    {
        if (nodo == null) return;

        Console.WriteLine(nodo.Nombre + "--");
        RecorrerPreorden(nodo.HijoIzquierdo, false);
        RecorrerPreorden(nodo.HijoDerecho, false);
    }

    public void RecorrerInorden(NodoArbol nodo, bool esPrimero = true)
    {
        if (nodo == null) return;

        RecorrerInorden(nodo.HijoIzquierdo, false);
        Console.WriteLine(nodo.Nombre + "--");
        RecorrerInorden(nodo.HijoDerecho, false);
    }

    public void RecorrerPostorden(NodoArbol nodo, bool esPrimero = true)
    {
        if (nodo == null) return;

        RecorrerPostorden(nodo.HijoIzquierdo, false);
        RecorrerPostorden(nodo.HijoDerecho, false);
        Console.WriteLine(nodo.Nombre + "--");
    }
}